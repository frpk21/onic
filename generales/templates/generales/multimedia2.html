
<link rel="stylesheet" type="text/css" href="/static/base/audio/css/hap-fontawesome.css"/>
<link rel="stylesheet" type="text/css" href="/static/base/audio/css/jquery.mCustomScrollbar.css" media="all" /><!-- playlist scroll -->
<link rel="stylesheet" type="text/css" href="/static/base/audio/css/modern9.css" />

<script src="/static/base/audio/js/jquery-3.2.1.min.js"></script>
<script src="/static/base/audio/js/new.js"></script>			
        

{% extends 'base/base.html' %}

{% load static %}

<section class="page-header" style="background-image: url({{subcategoria.imagen.url}});">
{% block contenido %}

    <div class="container">
        <h2>Multimedia</h2>
    </div>
</section>
<section class="collection-grid collection-masonary">
    <div class="container">
        <div class="collection-grid__top">
            <div class="block-title text-left">
                <p>Galer&iacute;a</p>
                <h3>Explore <br> Nuestro Contenido</h3>
            </div>
            <ul class="collection-filter post-filter list-unstyled">
                <li data-filter=".filter-item" class="active"><span>Todo</span></li>
                <li data-filter=".pic"><span>Im&aacute;genes</span></li>
                <li data-filter=".dis"><span>V&iacute;deos</span></li>
                <li data-filter=".poster"><span>Podcast</span></li>
            </ul>
        </div>
        <div class="row high-gutter filter-layout masonary-layout">
            {% for item in catastro %}
                <div class="col-lg-4 col-md-6 filter-item masonary-item pic">
                    <div class="collection-grid__single">
                        <div class="collection-grid__image">
                            <img src="{{item.imagen.url}}" alt="">
                            <a href="{% url 'generales:detalle' item.slug %}" class="collection-grid__link">+</a>
                        </div>
                        <div class="collection-grid__content">
                            <h3><a href="{% url 'generales:detalle' item.slug %}">{{item.titulo}}</a></h3>
                            <p>{{item.fuente}}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
            {% for item in censo %}
                <div class="col-lg-4 col-md-6 filter-item masonary-item dis">
                    <div class="collection-grid__single">
                        <div class="collection-grid__image">
                            <img src="{{item.imagen.url}}" alt="">
                            <a href="{% url 'generales:detalle' item.slug %}" class="collection-grid__link">+</a>
                        </div>
                        <div class="collection-grid__content">
                            <h3><a href="{% url 'generales:detalle' item.slug %}">{{item.titulo}}</a></h3>
                            <p>{{item.fuente}}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
            <div class="col-lg-4 col-md-6 filter-item masonary-item poster">
                <div id="wrapper">

                    <div class="slideHolder"><div class="slide_timer"></div></div>
                    
                    <div id="componentWrapper" class="hap_circle">
                    
                        <div class="circlePlayer" data-strokeSize="26" data-tolerance="10" data-offOpacity="0.3" data-onOpacity="0.9">
                            <div class="player_progress_tooltip"><p></p></div>
                            <!-- html5 circle --> 
                            <canvas class="play_canvas" width="160" height="160" data-bgcolor='#ffffff'></canvas>
                                <canvas class="load_canvas" width="160" height="160" data-bgcolor='#cc3333'></canvas>
                        </div>
                        
                        <div class="playlistHolder">
                            <div class="componentPlaylist">
                                <div class="playlist_inner">
                                    <!-- playlist items are appended here! --> 
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <div id="bg"></div>

                <!-- player code -->   
                <div id="hap-wrapper">

                    <div class="hap-player-wrapper">

                        <div class="hap-playlist-holder">

                            <div class="hap-bottom-bar">
                                <div class="hap-playlist-close hap-contr-btn" data-tooltip="Back"><i class="hap-icon hap-icon-long-arrow-alt-left"></i></div>

                                <div class="hap-sort-alpha hap-contr-btn" data-tooltip="Alphabetic sort"><i class="hap-icon hap-icon-sort-alpha-down"></i></div>
                                <input class="hap-search-filter" type="text" placeholder="filter...">
                            </div>

                            <div class="hap-playlist-filter-msg"><span>NOTHING FOUND!</span></div>

                            <div class="hap-playlist-inner">
                                <div class="hap-playlist-content">
                                    
                                </div>
                            </div>
                            
                            <div class="hap-preloader"></div>

                        </div>

                        <div class="hap-player-holder">

                            <div class="hap-player-thumb"></div>

                            <div class="hap-info">
                                <div class="hap-player-title"></div>
                                <div class="hap-player-artist"></div>
                            </div>

                            <div class="hap-share-toggle hap-contr-btn">
                                <div class="hap-share-holder">
                                    <!--<div class="hap-share-item hap-contr-btn" data-type="tumblr" data-tooltip="Share on Tumblr"><i class="hab-icon hap-icon-tumblr-square"></i></div>
                                    <div class="hap-share-item hap-contr-btn" data-type="twitter" data-tooltip="Share on Twitter"><i class="hab-icon hap-icon-twitter-square"></i></div>
                                    <div class="hap-share-item hap-contr-btn" data-type="facebook" data-tooltip="Share on Facebook"><i class="hab-icon hap-icon-facebook-square"></i></div>
                                    --></div>
                                <i class="hap-icon hap-icon-share-alt-square"></i>
                            </div>

                            <div class="hap-playlist-toggle hap-contr-btn" data-tooltip="Playlist"><i class="hap-icon hap-icon-th-list"></i></div>

                            <div class="hap-seekbar">
                                <div class="hap-progress-bg">
                                    <div class="hap-load-level"></div>
                                    <div class="hap-progress-level"></div>
                                </div>
                            </div>

                            <div class="hap-player-controls">
                                <div class="hap-loop-toggle hap-contr-btn" data-tooltip="Loop"><i class="hap-icon hap-icon-sync-alt"></i></div>

                                <div class="hap-prev-toggle hap-contr-btn"><i class="hap-icon hap-icon-backward"></i></div>
                                <div class="hap-playback-toggle hap-contr-btn"><i class="hap-icon hap-icon-play"></i></div>
                                <div class="hap-next-toggle hap-contr-btn"><i class="hap-icon hap-icon-forward"></i></div>

                                <div class="hap-random-toggle hap-contr-btn" data-tooltip="Shuffle"><i class="hap-icon hap-icon-random"></i></div>
                            </div>

                            <div class="hap-volume-seekbar">
                                <div class="hap-volume-bg">
                                    <div class="hap-volume-level"><div class="hap-volume-drag"></div></div>
                                </div>
                            </div>
                            
                        </div>
                    
                    </div> 
                    
                    <div class="hap-tooltip"></div>  

                </div>  

                <!-- PLAYLIST LIST -->
                <div id="hap-playlist-list">

                    <div id="playlist-audio2">
                        {% for item in podcast %}
                        <div class="hap-playlist-item" data-type="audio" data-mp3="{{item.archivo_audio.url}}" data-artist="Soundroll" data-title="{{item.titulo}}" data-thumb="{{item.imagen.url}}" data-share="n"></div>
                        {% endfor %}
                     </div>
                    
                </div>
            </div>
        </div>
    </div>
</section>

<script>

    var hap_player;  
    jQuery(document).ready(function($){
        
        var settings = {
            instanceName:"modern9",
            sourcePath:"",
            activePlaylist:"#playlist-audio2",
            activeItem:0,
            volume:0.5,
            autoPlay:true,
            preload:"auto",
            randomPlay:false,
            loopingOn:true,
            soundCloudAppId:"",
            usePlaylistScroll:true,
            playlistScrollOrientation:"vertical",
            playlistScrollTheme:"minimal",
            facebookAppId:"",
            useNumbersInPlaylist: false,
            numberTitleSeparator: ".  ",
            artistTitleSeparator: " - ",
            playlistItemContent:"title,thumb"
        };

        hap_player = $("#hap-wrapper").hap(settings);

        hap_player.togglePlaylist = function(){

            var playerHolder = $(this).find('.hap-player-holder'), 
                playlistHolder = $(this).find('.hap-playlist-holder'), 
                time = 500;

            if(hap_player.playlistOpened){
                playlistHolder.stop().animate({'left': -playlistHolder.width()+'px'},{duration: time});
                playerHolder.stop().animate({'left': 0+'px'},{duration:time});
            }else{
                playlistHolder.css({left: -playlistHolder.width()+'px'}).stop().animate({'left': 0+'px'},{duration:time});
                playerHolder.stop().animate({'left': playerHolder.width()+'px'},{duration:time});
            }   
            hap_player.playlistOpened = !hap_player.playlistOpened;

        }

    });

</script>

{% endblock contenido %}
